<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:utext="${hike.name}"></title>
</head>
<body>
<div th:switch="${hikes}">
    <div th:case="*">
        <h1 th:utext="${hike.name}"></h1>
        <p th:utext="${hike.description}"></p>
        <p th:utext="${hike.location}"></p>
    </div>

    <a th:href="@{/hike/{id}/reviews(id=${hike.id})}">View reviews</a>

    <div>
        <h2>Achievements</h2>
        <table>
            <thead>
                <tr>
                    <td></td>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Difficulty</th>
                </tr>
            </thead>
            <tbody>
            <tr th:each="achievement : ${hike.achievements}">
                <td> <!--COMPLETE button-->
                    <form action="#" th:action="@{/hike/{hikeid}/achievement/{aid}/complete(hikeid=${hike.id}, aid=${achievement.id})}" th:method="PATCH" >
                        <input type="hidden" name="_method" value="complete" />
                        <button type="submit" id="completeButton">✔</button>
                    </form>
                </td>
                <td th:text="${achievement.name}"></td>
                <td th:text="${achievement.description}"></td>
                <td th:text="${achievement.difficulty}"></td>
                <td> <!--DELETE button-->
                    <form action="#" th:action="@{/hike/{hikeid}/achievement/{aid}(hikeid=${hike.id}, aid=${achievement.id})}" th:method="DELETE" >
                        <input type="hidden" name="_method" value="delete" />
                        <button type="submit" id="submitButton">Eyða</button>
                    </form>
                </td>
            </tr>
            <!--Add achievement-->
            <tr>
                <form action="#" th:action="@{/hike/{id}/achievement(id=${hike.id})}" th:object="${achievement}" method="post">
                    <td></td>
                    <td><input type="text" th:field="*{name}" id="name" placeholder="Title"></td>
                    <td><input type="text" th:field="*{description}" id="description" placeholder="Description"></td>
                    <td><input type="number" max="5" th:field="*{difficulty}" id="difficulty" placeholder="Difficulty"></td>
                    <td><input type="submit" value="Bæta við" /></td>
                </form>
            </tr>
            </tbody>
        </table>

<!--        <form action="#" th:action="@{/hike/{id}/achievement(id=${hike.id})}" th:object="${achievement}" method="post">-->
<!--            <h3>Add achievements</h3>-->
<!--            <table>-->
<!--                <tr>-->
<!--&lt;!&ndash;                    <th>Title</th>&ndash;&gt;-->
<!--&lt;!&ndash;                    <td><input type="text" th:field="*{name}" id="name" placeholder="Name"></td>&ndash;&gt;-->
<!--&lt;!&ndash;                    <th>Description</th>&ndash;&gt;-->
<!--&lt;!&ndash;                    <td><input type="text" th:field="*{description}" id="description" placeholder="Description"></td>&ndash;&gt;-->
<!--&lt;!&ndash;                    <th>Difficulty</th>&ndash;&gt;-->
<!--&lt;!&ndash;                    <td><input type="number" th:field="*{difficulty}" id="difficulty" placeholder="Difficulty"></td>                </tr>&ndash;&gt;-->

<!--                <tr>-->
<!--                    <td><input type="submit" value="Submit" /></td>-->
<!--                </tr>-->
<!--            </table>-->
<!--        </form>-->

    </div>
</div>
</body>
</html>